# 结构体中保留字段定义

定义：RESERVED(X)

~~~c
#define RESERVED_1(type, name, line, size)      type  name##line[size]
#define RESERVED_0(line, size)                  RESERVED_1(char, recerved, line, size)
#define RESERVED(size)                          RESERVED_0(__LINE__, size)
~~~

说明：1，\__LINE__：代表行号；

​			2，##：直接解析，如下：

~~~C
#define FUN(F, P)		##F(P)
// FUN(fun, 1); 相当于 fun(1);
~~~

使用：

~~~C
typedef struct {
    volatile UINT16  fifo;
    volatile UINT16  ucsr;
    volatile RESERVED(2);
    volatile UINT16  mcr;
    volatile RESERVED(2);
    volatile UINT16  baud;
    volatile UINT16  fsr;
} FPGA_UART_REGS;
~~~

解析：

~~~C
volatile RESERVED(2); 
--> volatile RESERVED_0(__LINE__, size); 
--> volatile RESERVED_1(char, recerved, __LINE__, 2);
--> volatile  char recervedxxx[2]; //xxx为宏__LINE__对应的行号
~~~

